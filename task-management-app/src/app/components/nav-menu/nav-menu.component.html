<mat-nav-list>
  <a mat-list-item (click)="navigateTo('/tasks')">
    <mat-icon matListItemIcon>list</mat-icon>
    <span matListItemTitle>タスク一覧</span>
  </a>
  <a mat-list-item (click)="navigateTo('/tasks/new')">
    <mat-icon matListItemIcon>add</mat-icon>
    <span matListItemTitle>新規タスク作成</span>
  </a>

  <a mat-list-item (click)="navigateTo('/projects')" class="project-list-item">
    <mat-icon matListItemIcon>folder</mat-icon>
    <span class="project-title">プロジェクト</span>
    <span class="spacer"></span>
    <mat-icon class="expand-icon" (click)="$event.stopPropagation(); toggleProjectMenu();">{{ showProjectMenu ? 'expand_less' : 'expand_more' }}</mat-icon>
  </a>

  <div class="project-submenu" *ngIf="showProjectMenu">
    <a mat-list-item *ngFor="let project of projects" (click)="navigateToProject(project.id)">
      <mat-icon matListItemIcon>folder_open</mat-icon>
      <span matListItemTitle>{{ project.name }}</span>
    </a>
  </div>

  <ng-container *ngIf="isAdmin$ | async">
    <mat-divider></mat-divider>
    <a mat-list-item (click)="navigateTo('/admin')">
      <mat-icon matListItemIcon>admin_panel_settings</mat-icon>
      <span matListItemTitle>管理者ページ</span>
    </a>
  </ng-container>
  
  <a mat-list-item (click)="logout()">
    <mat-icon matListItemIcon>logout</mat-icon>
    <span matListItemTitle>ログアウト</span>
  </a>
</mat-nav-list> 