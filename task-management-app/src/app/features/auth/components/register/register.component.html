<div class="register-container">
  <h1>アカウント登録</h1>

  <form [formGroup]="registerForm" (ngSubmit)="onRegister()" class="register-form">
    <div class="form-group">
      <label for="displayName">表示名</label>
      <input
        type="text"
        id="displayName"
        formControlName="displayName"
        maxlength="30"
        [class.is-invalid]="registerForm.get('displayName')?.invalid && registerForm.get('displayName')?.touched"
      >
      <div class="invalid-feedback" *ngIf="registerForm.get('displayName')?.invalid && registerForm.get('displayName')?.touched">
        <span *ngIf="registerForm.get('displayName')?.errors?.['required']">表示名を入力してください</span>
        <span *ngIf="registerForm.get('displayName')?.errors?.['maxlength']">30文字以内で入力してください</span>
      </div>
    </div>

    <div class="form-group">
      <label for="email">メールアドレス</label>
      <input
        type="email"
        id="email"
        formControlName="email"
        [class.is-invalid]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
      >
      <div class="invalid-feedback" *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
        <span *ngIf="registerForm.get('email')?.errors?.['required']">メールアドレスを入力してください</span>
        <span *ngIf="registerForm.get('email')?.errors?.['email']">有効なメールアドレスを入力してください</span>
      </div>
    </div>

    <div class="form-group">
      <label for="password">パスワード</label>
      <input
        type="password"
        id="password"
        formControlName="password"
        [class.is-invalid]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
      >
      <div class="invalid-feedback" *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
        <span *ngIf="registerForm.get('password')?.errors?.['required']">パスワードを入力してください</span>
        <span *ngIf="registerForm.get('password')?.errors?.['minlength']">パスワードは6文字以上で入力してください</span>
        <span *ngIf="registerForm.get('password')?.errors?.['pattern']">英字と数字を両方含めてください</span>
      </div>
    </div>

    <div class="form-group">
      <label for="confirmPassword">パスワード（確認）</label>
      <input
        type="password"
        id="confirmPassword"
        formControlName="confirmPassword"
        [class.is-invalid]="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched"
      >
      <div class="invalid-feedback" *ngIf="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched">
        <span *ngIf="registerForm.get('confirmPassword')?.errors?.['required']">パスワード（確認）を入力してください</span>
        <span *ngIf="registerForm.get('confirmPassword')?.errors?.['passwordMismatch']">パスワードが一致しません</span>
      </div>
    </div>

    <div class="error-message" *ngIf="registerError">
      {{ registerError }}
    </div>

    <div class="success-message" *ngIf="registerSuccess">
      {{ registerSuccess }}
    </div>

    <div class="form-actions">
      <button type="submit" class="register-button" [disabled]="registerForm.invalid">
        登録
      </button>
      <button type="button" class="register-button" [disabled]="registerForm.invalid" (click)="onRegisterAdmin()">
        管理者として登録
      </button>
    </div>

    <div class="login-link">
      すでにアカウントをお持ちの方は<a routerLink="/auth/login">こちら</a>からログインしてください
    </div>
  </form>
</div> 