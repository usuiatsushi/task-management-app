<h2 mat-dialog-title>{{ isEditMode ? 'ステークホルダーの編集' : 'ステークホルダーの追加' }}</h2>

<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <mat-dialog-content>
    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>名前</mat-label>
        <input matInput formControlName="name" required>
        <mat-error *ngIf="form.get('name')?.hasError('required')">名前は必須です</mat-error>
        <mat-error *ngIf="form.get('name')?.hasError('minlength')">2文字以上で入力してください</mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>役割</mat-label>
        <mat-select formControlName="role" required>
          <mat-option value="owner">オーナー</mat-option>
          <mat-option value="contributor">担当者</mat-option>
          <mat-option value="reviewer">レビュアー</mat-option>
          <mat-option value="observer">オブザーバー</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>部署</mat-label>
        <input matInput formControlName="department" required>
        <mat-error *ngIf="form.get('department')?.hasError('required')">部署は必須です</mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>メールアドレス</mat-label>
        <input matInput formControlName="email" required type="email">
        <mat-error *ngIf="form.get('email')?.hasError('required')">メールアドレスは必須です</mat-error>
        <mat-error *ngIf="form.get('email')?.hasError('email')">有効なメールアドレスを入力してください</mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>電話番号</mat-label>
        <input matInput formControlName="phone">
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>影響力</mat-label>
        <mat-select formControlName="influence" required>
          <mat-option value="high">高</mat-option>
          <mat-option value="medium">中</mat-option>
          <mat-option value="low">低</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>関心度</mat-label>
        <mat-select formControlName="interest" required>
          <mat-option value="high">高</mat-option>
          <mat-option value="medium">中</mat-option>
          <mat-option value="low">低</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>責任</mat-label>
        <input matInput formControlName="responsibility" required>
        <mat-error *ngIf="form.get('responsibility')?.hasError('required')">責任は必須です</mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>状態</mat-label>
        <mat-select formControlName="status" required>
          <mat-option value="active">アクティブ</mat-option>
          <mat-option value="inactive">非アクティブ</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button type="button" (click)="onCancel()">キャンセル</button>
    <button mat-raised-button color="primary" type="submit" [disabled]="!form.valid">
      {{ isEditMode ? '更新' : '追加' }}
    </button>
  </mat-dialog-actions>
</form> 