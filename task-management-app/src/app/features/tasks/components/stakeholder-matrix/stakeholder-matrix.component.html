<div class="stakeholder-matrix-container">
  <div class="matrix-header">
    <h2>ステークホルダーマトリックス</h2>
    <button mat-button color="primary" (click)="openStakeholderDialog()">
      <mat-icon>add</mat-icon>
      ステークホルダーを追加
    </button>
  </div>

  <div class="matrix-content" *ngIf="!loading; else loadingTemplate">
    <div class="matrix-grid">
      <div class="matrix-cell" *ngFor="let stakeholder of stakeholders">
        <mat-card class="stakeholder-card">
          <mat-card-header>
            <mat-card-title>{{ stakeholder.name }}</mat-card-title>
            <mat-card-subtitle>{{ stakeholder.department }}</mat-card-subtitle>
          </mat-card-header>
          
          <mat-card-content>
            <div class="stakeholder-info">
              <div class="info-row">
                <span class="label">役割:</span>
                <span class="value">{{ getStakeholderRole(stakeholder.id) }}</span>
              </div>
              <div class="info-row">
                <span class="label">責任:</span>
                <span class="value">{{ getStakeholderResponsibility(stakeholder.id) }}</span>
              </div>
              <div class="info-row">
                <span class="label">状態:</span>
                <mat-chip [color]="getStakeholderStatus(stakeholder.id) === 'active' ? 'primary' : 'warn'"
                         [selected]="true">
                  {{ getStakeholderStatus(stakeholder.id) === 'active' ? 'アクティブ' : '非アクティブ' }}
                </mat-chip>
              </div>
            </div>

            <div class="influence-interest">
              <div class="influence" [ngClass]="getInfluenceClass(stakeholder.influence)">
                <span class="label">影響力:</span>
                <span class="value">{{ stakeholder.influence }}</span>
              </div>
              <div class="interest" [ngClass]="getInterestClass(stakeholder.interest)">
                <span class="label">関心度:</span>
                <span class="value">{{ stakeholder.interest }}</span>
              </div>
            </div>
          </mat-card-content>

          <mat-card-actions>
            <button mat-button color="primary" (click)="editStakeholder(stakeholder)">
              <mat-icon>edit</mat-icon>
              編集
            </button>
            <button mat-button color="warn" (click)="removeStakeholder(stakeholder)">
              <mat-icon>delete</mat-icon>
              削除
            </button>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>
  </div>

  <ng-template #loadingTemplate>
    <div class="loading-container">
      <mat-spinner></mat-spinner>
      <p>データを読み込み中...</p>
    </div>
  </ng-template>
</div> 